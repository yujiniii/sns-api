name: sns github-action
on:
  push: 
    branches: [main]
jobs:
  build:
    runs-on: windows-latest
    strategy:
      matrix:
        node-version: [16.x, 12.x]
steps:
  - name: Checkout main
    uses: actions/checkout@v2 # 만들어져있는 action 사용

  - name: npm cache
    uses: actions/cache@v2
    with:
      path: ~/.npm
      key: ${{runner.os}}-build-${{hashFiles('**/package-lock.json')}}
      restore-key: |
        ${{runner.os}}-build-${{hashFiles('**/package-lock.json')}}

  - name: build
    run: 
      npm install
#     npm test
      npm build

  - run: echo "🍏 This job's status is ${{ job.status }}."